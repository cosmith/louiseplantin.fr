{"version":3,"sources":["utils.js","translate.js","chrome.js","index.js"],"names":["getBounds","image","x","y","top","bottom","height","left","right","width","intersects","otherImage","otherX","otherY","margin","bounds","otherBounds","TRANSLATIONS","en","Facilitation graphique","Illustration","Facilitation","Corporate","Jeunesse","fr","translations","language","navigator","languages","userLanguage","slice","toLowerCase","getLanguage","Picto","_ref","name","title","react_default","a","createElement","src","concat","className","alt","ZoomButtons","_ref2","onHomeClick","onZoomClick","onShuffleClick","onLanguageClick","onClick","bind","ArrowButtons","_ref3","MenuFilterOption","_ref5","filters","label","onChange","Menu","_ref6","onFilterClick","initialOpen","_useState","useState","_useState2","Object","slicedToArray","open","setOpen","useSpring","from","config","duration","web","div","style","interpolate","overflow","target","rel","href","transform","s","images","shuffle","originalImages","INITIAL_ZOOM","INITIAL_FILTERS","INITIAL_MAP_POSITION","MARGIN","GRID_SIZE","ZOOM_SPEED_BUTTONS","MIN_ZOOM","HIDE_IMAGES_ZOOM","MAX_ZOOM","MOVE_SPEED","generatePositions","positions","forEach","filter","random","theta","radius","hasIntersection","Math","PI","floor","cos","sin","i","length","position","push","MIDDLE","window","innerWidth","innerHeight","getImagesParams","imagePositions","mapPosition","zoomLevel","xys","current","display","LegendSpan","cutoff","text","span","isMobile","MobileDetect","userAgent","mobile","preventDefault","e","document","body","addEventListener","passive","render","useRef","setFilters","_useState3","_useState4","selectedImageIndex","setSelectedImageIndex","_useSprings","useSprings","_useSprings2","propsImages","setImages","useGesture","onDrag","_ref2$vxvy","vxvy","vx","vy","onPinch","_ref3$previous","previous","previousDistance","_ref3$da","da","distance","zoomSpeed","pow","clamp","onWheel","_ref4","_ref4$delta","delta","yDelta","multiplier","handleZoom","direction","handleZoomToImageIndex","index","imagePos","max","min","assign","id","onDoubleClick","newIndex","newFilters","objectSpread","defineProperty","map","key","showImage","value","transformOrigin","backgroundImage","scale","getSourceVariant","opacity","boxShadow","onMouseDown","client","year","category","project","description","getElementById"],"mappings":"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","file":"static/js/main.055534f5.chunk.js","sourcesContent":["export function randInt(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function getBounds(image, x, y) {\n    return {\n        top: y,\n        bottom: y + image.height,\n        left: x,\n        right: x + image.width,\n    };\n}\n\nexport function intersects(image, x, y, otherImage, otherX, otherY, margin) {\n    const bounds = getBounds(image, x, y);\n    const otherBounds = getBounds(otherImage, otherX, otherY);\n    return (\n        bounds.left - margin < otherBounds.right &&\n        bounds.right + margin > otherBounds.left &&\n        bounds.top - margin < otherBounds.bottom &&\n        bounds.bottom + margin > otherBounds.top\n    );\n}\n","export function getLanguage() {\n    const language = navigator.languages\n        ? navigator.languages[0]\n        : navigator.language || navigator.userLanguage;\n\n    if (typeof language === \"string\" && language.slice(0, 2).toLowerCase() === \"fr\") {\n        return \"fr\";\n    }\n    return \"en\";\n}\n\nconst TRANSLATIONS = {\n    en: {\n        \"Facilitation graphique\": \"Graphic facilitation\",\n        Illustration: \"Illustration\",\n        Facilitation: \"Scribing\",\n        Corporate: \"Corporate\",\n        Jeunesse: \"Children\",\n    },\n    fr: {\n        \"Facilitation graphique\": \"Facilitation graphique\",\n        Illustration: \"Illustration\",\n        Facilitation: \"Facilitation\",\n        Corporate: \"Corporate\",\n        Jeunesse: \"Jeunesse\",\n    },\n};\n\nexport function getTranslations() {\n    return TRANSLATIONS[getLanguage()];\n}\n","import React, {useState} from \"react\";\nimport {useSpring, animated} from \"react-spring\";\nimport {getTranslations} from \"./translate\";\nimport \"./chrome.css\";\n\nconst translations = getTranslations();\n\nexport function Picto({name, title}) {\n    return <img src={`./icons/${name}.svg`} className=\"picto\" alt={title} />;\n}\n\nexport function ZoomButtons({onHomeClick, onZoomClick, onShuffleClick, onLanguageClick}) {\n    return (\n        <div className=\"chrome zoom\">\n            <div className=\"chrome-button zoom-home\" onClick={onHomeClick}>\n                <Picto name=\"home\" title=\"home\" />\n            </div>\n            <div className=\"chrome-button zoom-plus\" onClick={onZoomClick.bind(null, 1)}>\n                +\n            </div>\n            <div className=\"chrome-button zoom-minus\" onClick={onZoomClick.bind(null, -1)}>\n                -\n            </div>\n            <div className=\"chrome-button zoom-shuffle\" onClick={onShuffleClick}>\n                <Picto name=\"shuffle\" title=\"shuffle\" />\n            </div>\n            {/*<div className=\"chrome-button zoom-language\" onClick={onLanguageClick}>\n                En\n            </div>*/}\n        </div>\n    );\n}\n\nexport function ArrowButtons({onClick}) {\n    return (\n        <div className=\"chrome arrow\">\n            <div className=\"chrome-button arrow-left\" onClick={onClick.bind(null, -1)}>\n                <Picto name=\"f-gauche\" title=\"left\" />\n            </div>\n            <div className=\"chrome-button arrow-right\" onClick={onClick.bind(null, 1)}>\n                <Picto name=\"f-droite\" title=\"right\" />\n            </div>\n        </div>\n    );\n}\n\nexport function SearchBar({onSearch}) {\n    return (\n        <div className=\"chrome search\">\n            <div className=\"search-input-container\">\n                <input\n                    type=\"text\"\n                    className=\"search-input\"\n                    placeholder=\"Client | AnnÃ©e | Projet...\"\n                />\n            </div>\n            <div className=\"chrome-button chrome-button-search\">\n                <Picto name=\"loupe\" title=\"search\" />\n            </div>\n        </div>\n    );\n}\n\nfunction MenuFilterOption({filters, name, label, onChange}) {\n    return (\n        <div className=\"menu-filters-option\" onClick={onChange.bind(null, name)}>\n            <Picto name={filters[name] ? \"carre-plein\" : \"carre-vide\"} /> {label}\n        </div>\n    );\n}\n\nexport function Menu({filters, onFilterClick, initialOpen}) {\n    const [open, setOpen] = useState(initialOpen);\n    const {height} = useSpring({\n        from: {height: 0},\n        height: open ? 1 : 0,\n        config: {duration: 200},\n    });\n\n    return (\n        <div className=\"chrome menu\">\n            <div className=\"menu-section menu-title\">\n                Louise Plantin\n                <br />\n                {translations[\"Facilitation graphique\"]}\n                <br />\n                &mdash; {translations[\"Illustration\"]}\n            </div>\n            <animated.div\n                style={{\n                    height: height.interpolate(height => `${height * 250}px`),\n                    overflow: \"hidden\",\n                }}\n            >\n                <div className=\"menu-section menu-contact\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"mailto:louiseillu@yahoo.fr\">\n                        louiseillu @yahoo.fr\n                    </a>\n                    <br />\n                    06 52 55 41 18\n                    <div className=\"menu-social\">\n                        <a\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            href=\"https://www.linkedin.com/in/louise-plantin-4b021186/\"\n                        >\n                            <Picto name=\"linkedin\" title=\"LinkedIn\" />\n                        </a>\n                        <a\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            href=\"https://www.twitter.com/louiseplantin/\"\n                        >\n                            <Picto name=\"twitter\" title=\"Twitter\" />\n                        </a>\n                        <a\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            href=\"https://www.instagram.com/louise.plantin/\"\n                        >\n                            <Picto name=\"insta\" title=\"Instagram\" />\n                        </a>\n                        <a\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            href=\"https://www.malt.fr/profile/louiseplantin\"\n                        >\n                            <Picto name=\"malt\" title=\"Malt\" />\n                        </a>\n                    </div>\n                </div>\n                <div className=\"menu-section menu-filters\">\n                    <MenuFilterOption\n                        filters={filters}\n                        name={\"Facilitation\"}\n                        label={translations[\"Facilitation\"]}\n                        onChange={onFilterClick}\n                    />\n                    <MenuFilterOption\n                        filters={filters}\n                        name={\"Corporate\"}\n                        label={translations[\"Corporate\"]}\n                        onChange={onFilterClick}\n                    />\n                    <MenuFilterOption\n                        filters={filters}\n                        name={\"Jeunesse\"}\n                        label={translations[\"Jeunesse\"]}\n                        onChange={onFilterClick}\n                    />\n                </div>\n            </animated.div>\n            <div className=\"menu-collapse\" />\n            <animated.div\n                className=\"close-button\"\n                onClick={() => setOpen(!open)}\n                style={{transform: height.interpolate(s => `rotate(${s * 180}deg)`)}}\n            >\n                <Picto name={\"f-basse\"} />\n            </animated.div>\n        </div>\n    );\n}\n","import {render} from \"react-dom\";\nimport React, {useRef, useState} from \"react\";\nimport {useSprings, animated} from \"react-spring\";\nimport {useGesture} from \"react-use-gesture\";\nimport {clamp, random, shuffle} from \"lodash-es\";\nimport MobileDetect from \"mobile-detect\";\n\nimport {intersects} from \"./utils\";\nimport {ZoomButtons, ArrowButtons, Menu} from \"./chrome\";\nimport \"./styles.css\";\nimport originalImages from \"./images.json\";\n\nconst images = shuffle(originalImages);\n\nconst INITIAL_ZOOM = 0.2;\nconst INITIAL_FILTERS = {Facilitation: true, Corporate: true, Jeunesse: true};\nconst INITIAL_MAP_POSITION = {x: 0, y: 0};\n\nconst MARGIN = 300;\nconst GRID_SIZE = 400;\n\nconst ZOOM_SPEED_BUTTONS = 1.7;\nconst MIN_ZOOM = 0.04;\nconst HIDE_IMAGES_ZOOM = 0.1;\nconst MAX_ZOOM = 1.3;\nconst MOVE_SPEED = 20;\n\nfunction generatePositions(images, filters) {\n    const positions = [];\n\n    images.forEach(image => {\n        if (!filters[image.filter]) {\n            // don't compute for images hidden by filters\n            positions.push([0, 0]);\n            return;\n        }\n        let x = random(-50, 50) * GRID_SIZE;\n        let y = random(-50, 50) * GRID_SIZE;\n        let theta = 0;\n        let radius = 0;\n\n        let hasIntersection = true;\n\n        while (hasIntersection) {\n            hasIntersection = false;\n            theta += (random(10, 25) / 180) * Math.PI;\n            if (theta > Math.PI * 2) {\n                radius += 50;\n            }\n            x = Math.floor(Math.cos(theta) * radius);\n            y = Math.floor(Math.sin(theta) * radius);\n            for (let i = 0; i < positions.length; i++) {\n                let position = positions[i];\n                hasIntersection =\n                    hasIntersection ||\n                    intersects(image, x, y, images[i], position[0], position[1], MARGIN);\n            }\n        }\n\n        positions.push([x, y]);\n    });\n    return positions;\n}\n\nconst MIDDLE = {x: window.innerWidth / 2, y: window.innerHeight / 2};\n\nfunction getImagesParams(imagePositions, mapPosition, zoomLevel, filters) {\n    return i => {\n        return {\n            xys: [\n                MIDDLE.x +\n                    (imagePositions.current[i][0] + mapPosition.current.x) * zoomLevel.current,\n                MIDDLE.y +\n                    (imagePositions.current[i][1] + mapPosition.current.y) * zoomLevel.current,\n                zoomLevel.current,\n            ],\n            display: filters[images[i].filter] ? \"block\" : \"none\",\n        };\n    };\n}\n\nfunction LegendSpan({xys, cutoff, text}) {\n    return (\n        <animated.span\n            style={{\n                display: xys.interpolate((x, y, s) => (s > cutoff ? \"inline\" : \"none\")),\n            }}\n        >\n            {\" | \"}\n            {text}\n        </animated.span>\n    );\n}\n\nfunction showImage(x, y, s, image, mapPosition) {\n    const displayMargin = 50;\n    if (x > window.innerWidth + displayMargin) {\n        return false;\n    }\n    if (y > window.innerHeight + displayMargin) {\n        return false;\n    }\n    if (x + image.width * s + displayMargin < 0) {\n        return false;\n    }\n    if (y + image.height * s + displayMargin < 0) {\n        return false;\n    }\n    return true;\n}\n\nfunction getSourceVariant(s, image) {\n    let scale;\n    if (s > 1) {\n        scale = \"@4x\";\n    } else if (s > 0.4) {\n        scale = \"@3x\";\n    } else if (s > 0.1) {\n        scale = \"@2x\";\n    } else {\n        scale = \"@1x\";\n    }\n    return `url(\"${image.src}${scale}.jpg\")`;\n}\n\nconst isMobile = new MobileDetect(window.navigator.userAgent).mobile();\n\nfunction Viewpager() {\n    const zoomLevel = useRef(INITIAL_ZOOM);\n    const mapPosition = useRef(INITIAL_MAP_POSITION);\n    const [filters, setFilters] = useState(INITIAL_FILTERS);\n    const imagePositions = useRef(generatePositions(images, filters));\n    const [selectedImageIndex, setSelectedImageIndex] = useState(null);\n\n    const [propsImages, setImages] = useSprings(\n        images.length,\n        getImagesParams(imagePositions, mapPosition, zoomLevel, filters)\n    );\n\n    const bind = useGesture({\n        onDrag: ({vxvy: [vx, vy]}) => {\n            mapPosition.current = {\n                x: (vx * MOVE_SPEED) / zoomLevel.current + mapPosition.current.x,\n                y: (vy * MOVE_SPEED) / zoomLevel.current + mapPosition.current.y,\n            };\n            setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n        },\n        onPinch: ({previous: [previousDistance, previousAngle], da: [distance, angle]}) => {\n            if (!isMobile) {\n                return;\n            }\n            const zoomSpeed = Math.pow(distance / previousDistance, 2);\n            zoomLevel.current = clamp(zoomLevel.current * zoomSpeed, MIN_ZOOM, MAX_ZOOM);\n            setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n        },\n        onWheel: ({delta: [xDelta, yDelta]}) => {\n            if (isMobile) {\n                return;\n            }\n            const WIDTH = 10000;\n\n            const multiplier = 1 - (yDelta * (MAX_ZOOM - MIN_ZOOM)) / WIDTH;\n\n            zoomLevel.current = clamp(zoomLevel.current * multiplier, MIN_ZOOM, MAX_ZOOM);\n            setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n        },\n    });\n\n    const handleZoom = direction => {\n        zoomLevel.current = clamp(\n            direction > 0\n                ? ZOOM_SPEED_BUTTONS * zoomLevel.current\n                : zoomLevel.current / ZOOM_SPEED_BUTTONS,\n            MIN_ZOOM,\n            MAX_ZOOM\n        );\n        setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n    };\n\n    const handleZoomToImageIndex = index => {\n        const imagePos = imagePositions.current[index];\n        const image = images[index];\n        setSelectedImageIndex(index);\n\n        if (image.width > image.height) {\n            zoomLevel.current = Math.max(\n                window.innerWidth / (image.width - 10),\n                window.innerHeight / (image.height - 10)\n            );\n        } else {\n            zoomLevel.current = Math.min(\n                window.innerWidth / (image.width - 10),\n                window.innerHeight / (image.height - 10)\n            );\n        }\n\n        mapPosition.current = {\n            x: -imagePos[0] - image.width / 2,\n            y: -imagePos[1] - image.height / 2,\n        };\n        setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n    };\n\n    return (\n        <div\n            {...bind()}\n            id=\"container\"\n            className=\"touch-drag touch-zoom\"\n            onDoubleClick={handleZoom.bind(null, 1)}\n        >\n            <ZoomButtons\n                onHomeClick={() => {\n                    zoomLevel.current = INITIAL_ZOOM;\n                    mapPosition.current = INITIAL_MAP_POSITION;\n                    setFilters(INITIAL_FILTERS);\n                    imagePositions.current = generatePositions(images, INITIAL_FILTERS);\n                    setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n                }}\n                onZoomClick={handleZoom}\n                onShuffleClick={() => {\n                    imagePositions.current = generatePositions(images, filters);\n                    setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, filters));\n                }}\n            />\n            <ArrowButtons\n                onClick={direction => {\n                    let newIndex =\n                        selectedImageIndex === null ? 0 : selectedImageIndex + direction;\n                    while (!filters[images[newIndex].filter]) {\n                        newIndex = (newIndex + direction) % (images.length - 1);\n                    }\n\n                    handleZoomToImageIndex(newIndex);\n                }}\n            />\n            {/*<SearchBar onSearch={() => {}} />*/}\n            <Menu\n                filters={filters}\n                onFilterClick={filter => {\n                    const newFilters = {...filters, [filter]: !filters[filter]};\n                    setFilters(newFilters);\n                    setSelectedImageIndex(0);\n                    zoomLevel.current = INITIAL_ZOOM;\n                    imagePositions.current = generatePositions(images, newFilters);\n                    setImages(getImagesParams(imagePositions, mapPosition, zoomLevel, newFilters));\n                }}\n                initialOpen={!isMobile}\n            />\n            {/*<animated.div className=\"debug-info\">\n                {propsImages.map(({xys, display}, i) => (\n                    <animated.div\n                        style={{\n                            padding: \"5px\",\n                            backgroundColor: xys.interpolate((x, y, s) =>\n                                showImage(x, y, s, images[i], mapPosition.current) ? \"blue\" : \"red\"\n                            ),\n                            flex: 1,\n                        }}\n                    >\n                        {i}\n                    </animated.div>\n                ))}\n            </animated.div>*/}\n            <animated.div id=\"map\">\n                {propsImages.map(({xys, display}, i) => (\n                    <animated.div\n                        className=\"image-container\"\n                        key={i}\n                        style={{\n                            display: xys.interpolate((x, y, s) =>\n                                showImage(x, y, s, images[i], mapPosition.current)\n                                    ? display.value\n                                    : \"none\"\n                            ),\n                            transform: xys.interpolate(\n                                (x, y, s) => `translate3d(${x}px,${y}px,0)`\n                            ),\n                        }}\n                    >\n                        <animated.div\n                            className=\"image\"\n                            style={{\n                                width: `${images[i].width}px`,\n                                height: `${images[i].height}px`,\n                                transform: xys.interpolate((x, y, s) => `scale(${s})`),\n                                transformOrigin: \"0 0\",\n                                backgroundImage: xys.interpolate((x, y, s) =>\n                                    getSourceVariant(s, images[i])\n                                ),\n                                opacity: xys.interpolate((x, y, s) =>\n                                    s > HIDE_IMAGES_ZOOM\n                                        ? 1\n                                        : s / (HIDE_IMAGES_ZOOM - MIN_ZOOM) - 1\n                                ),\n                                boxShadow: xys.interpolate(\n                                    (x, y, s) => `0 4px ${14 / s}px 0px rgb(208, 208, 208)`\n                                ),\n                            }}\n                            onMouseDown={handleZoomToImageIndex.bind(null, i)}\n                        />\n                        <animated.div\n                            className=\"legend\"\n                            style={{\n                                position: \"absolute\",\n                                top: xys.interpolate((x, y, s) => `${images[i].height * s}px`),\n                                width: xys.interpolate(\n                                    (x, y, s) =>\n                                        `${s > HIDE_IMAGES_ZOOM ? images[i].width * s : 1000}px`\n                                ),\n                            }}\n                        >\n                            {images[i].client}\n                            <LegendSpan xys={xys} cutoff={0.3} text={images[i].year} />\n                            <LegendSpan xys={xys} cutoff={0.5} text={images[i].category} />\n                            <LegendSpan xys={xys} cutoff={0.7} text={images[i].project} />\n                            <LegendSpan xys={xys} cutoff={0.9} text={images[i].description} />\n                        </animated.div>\n                    </animated.div>\n                ))}\n            </animated.div>\n        </div>\n    );\n}\n\nfunction preventDefault(e) {\n    e.preventDefault();\n}\n\nfunction disableScroll() {\n    document.body.addEventListener(\"touchmove\", preventDefault, {passive: false});\n}\n\ndisableScroll();\n\nrender(<Viewpager />, document.getElementById(\"root\"));\n"],"sourceRoot":""}