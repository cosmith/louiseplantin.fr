(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(16)},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r=n(4),c=n(7),a=n(0),o=n.n(a),i=n(3),u=n(8),l=n(18);function s(t,e){return Math.floor(Math.random()*(e-t))+t}function f(t,e,n){return{top:n,bottom:n+t.height,left:e,right:e+t.width}}function h(t,e,n,r,c,a,o){var i=f(t,e,n),u=f(r,c,a);return i.left-o<u.right&&i.right+o>u.left&&i.top-o<u.bottom&&i.bottom+o>u.top}n(15);var p=function(t){for(var e=0,n=[];e<t;){e+=1;var r=s(800,1200),c=s(600,1200);n.push({width:r,height:c,src:"https://placekitten.com/".concat(r,"/").concat(c,"/"),client:"Vinci",year:"2019",category:"Facilitation graphique",project:"R\xe9union prospective pour l'avenir des autoroutes"})}return n}(10),d=300,m=1.05,v=.4,y=.05,b=2,g=20,x=150;function j(t){var e=[];return t.forEach(function(n){for(var r=s(-50,50)*d,c=s(-50,50)*d,a=0,o=0,i=!0;i;){i=!1,(a+=s(10,25)/180*Math.PI)>2*Math.PI&&(o+=50),r=Math.floor(Math.cos(a)*o),c=Math.floor(Math.sin(a)*o);for(var u=0;u<e.length;u++){var l=e[u];i=i||h(n,r,c,t[u],l[0],l[1],x)}}e.push([r,c])}),e}var w={x:window.innerWidth/2,y:window.innerHeight/2};function E(t,e,n){return function(r){return{xys:[w.x+(t.current[r][0]+e.current.x)*n.current,w.y+(t.current[r][1]+e.current.y)*n.current,n.current]}}}function O(t){var e=t.xys,n=t.cutoff,r=t.text;return o.a.createElement(i.a.span,{style:{display:e.interpolate(function(t,e,r){return r>n?"inline":"none"})}}," | ",r)}function M(t){t.preventDefault()}document.body.addEventListener("touchmove",M,{passive:!1}),Object(c.render)(o.a.createElement(function(){var t=Object(a.useRef)(v),e=Object(a.useRef)(w),n=Object(a.useRef)(j(p)),c=Object(i.b)(p.length,function(t){return{xys:[n.current[t][0],n.current[t][1],v],display:"block"}}),s=Object(r.a)(c,2),f=s[0],h=s[1],d=Object(u.a)({onDrag:function(c){var a=Object(r.a)(c.vxvy,2),o=a[0],i=a[1];e.current={x:o*g/t.current+e.current.x,y:i*g/t.current+e.current.y},h(E(n,e,t))},onPinch:function(c){var a=Object(r.a)(c.previous,2),o=a[0],i=(a[1],Object(r.a)(c.da,2)),u=i[0],s=(i[1],Math.pow(u/o,2));t.current=Object(l.a)(t.current*s,y,b),h(E(n,e,t))},onWheel:function(c){var a=Object(r.a)(c.delta,2),o=(a[0],a[1]);t.current=Object(l.a)(o<0?m*t.current:t.current/m,y,b),h(E(n,e,t))}});return o.a.createElement("div",Object.assign({},d(),{id:"container",className:"touch-drag touch-zoom"}),o.a.createElement("div",{id:"shuffle",className:"chrome",onClick:function(){n.current=j(p),h(E(n,e,t))}},"shuffle"),o.a.createElement(i.a.div,{id:"map"},f.map(function(t,e){var n=t.xys,r=t.display;return o.a.createElement(i.a.div,{className:"image-container",key:e,style:{display:r,transform:n.interpolate(function(t,e,n){return"translate3d(".concat(t,"px,").concat(e,"px,0")})}},o.a.createElement(i.a.div,{className:"image",style:{width:n.interpolate(function(t,n,r){return"".concat(p[e].width*r,"px")}),height:n.interpolate(function(t,n,r){return"".concat(p[e].height*r,"px")}),backgroundImage:"url(".concat(p[e].src,")"),display:n.interpolate(function(t,e,n){return n>.15?"inherit":"none"})}}),o.a.createElement(i.a.div,{className:"legend"},p[e].client,o.a.createElement(O,{xys:n,cutoff:.15,text:p[e].year}),o.a.createElement(O,{xys:n,cutoff:.35,text:p[e].category}),o.a.createElement(O,{xys:n,cutoff:.6,text:p[e].project})))})))},null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.3de9d5a6.chunk.js.map